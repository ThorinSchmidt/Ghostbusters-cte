<!-- Ghostbusters CTE Character Sheet
    Version 0.1 
    modified from the roll20 Ghostbuster's Character Sheet -->

<div class="sheet-container">
    <div class="sheet-row">
        <label style="font-weight:bold, width:100%">GIT #</label>
        <input type="number" name="attr_character_num" class="sheet-num">
    </div>
    <div class="sheet-row">
        <h3>Ghostbuster-In-Training</h3>
    </div>
    <div class="sheet-4colrow">
        <div class="sheet-col">
            <label>Name</label>
        </div>
        <div class="sheet-col">
            <input type="text" name="attr_character_name" class="sheet-name">
        </div>
        <div class="sheet-col"></div>
        <div class="sheet-col"></div>
    </div>
	<p></p>
    <hr class="sheet-rule">
    <p></p>
    <div class=sheet-section-core>
        <div class="sheet-2colrow">
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col sheet-category">Traits</div>
                    <div class="sheet-col">&nbsp;</div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col sheet-category">Talents</div>
                    <div class="sheet-col">&nbsp;</div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
        </div>
        <div class="sheet-2colrow">
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><label>Brains</label></div>
                    <div class="sheet-col"><input type="number" name="attr_brains"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=Brains}} {{playerrolls=1}} {{die=[[ (@{brains}-1) ]]}} {{check=[[ (@{brains}-1)d6cs>7cf<0 ]]}} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_BrainsCheck' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><input type="text" name="attr_talent_1" class="sheet-talent" placeholder="Talent name"></div>
                    <div class="sheet-col"><input type="number" value="3" name="attr_talent_1_val"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=@{talent_1}}} {{playerrolls=1}} {{die=[[ (@{brains}-1) + @{talent_1_val} ]]}} {{check=[[ ( (@{brains}-1)d6cs>7cf<0) + (@{talent_1_val}d6cs>7cf<0) ]] }} {{ghostdieroll=[[1d6cf<0]]}}' name='rollTalent1Check' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
        </div>
        <div class="sheet-2colrow">
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><label>Muscles</label></div>
                    <div class="sheet-col"><input type="number" name="attr_muscles"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=Muscles}} {{playerrolls=1}} {{die=[[ (@{muscles}-1) ]]}} {{check=[[ (@{muscles}-1)d6cs>7cf<0 ]]}} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_MusclesCheck' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><input type="text" name="attr_talent_2" class="sheet-talent" placeholder="Talent name"></div>
                    <div class="sheet-col"><input type="number" value="3" name="attr_talent_2_val"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=@{talent_2}}} {{playerrolls=1}} {{die=[[ (@{muscles}-1) + @{talent_2_val} ]]}} {{check=[[ ( (@{muscles}-1)d6cs>7cf<0) + (@{talent_2_val}d6cs>7cf<0) ]] }} {{ghostdieroll=[[1d6cf<0]]}}' name='rollTalent2Check' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
        </div>
        <div class="sheet-2colrow">
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><label>Moves</label></div>
                    <div class="sheet-col"><input type="number" name="attr_moves"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=Moves}} {{playerrolls=1}} {{die=[[ (@{moves}-1) ]]}} {{check=[[ (@{moves}-1)d6cs>7cf<0 ]]}} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_MovesCheck' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><input type="text" name="attr_talent_3" class="sheet-talent" placeholder="Talent name"></div>
                    <div class="sheet-col"><input type="number" value="3" name="attr_talent_3_val"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=@{talent_3}}} {{playerrolls=1}} {{die=[[ (@{moves}-1) + @{talent_3_val} ]]}} {{check=[[ ( (@{moves}-1)d6cs>7cf<0) + (@{talent_3_val}d6cs>7cf<0) ]] }} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_Talent3Check' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
        </div>
        <div class="sheet-2colrow">
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><label>Cool</label></div>
                    <div class="sheet-col"><input type="number" name="attr_cool"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=Cool}} {{playerrolls=1}} {{die=[[ (@{cool}-1) ]]}} {{check=[[ (@{cool}-1)d6cs>7cf<0 ]]}} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_CoolCheck' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><input type="text" name="attr_talent_4" class="sheet-talent" placeholder="Talent name"></div>
                    <div class="sheet-col"><input type="number" value="3" name="attr_talent_4_val"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=@{talent_4}}} {{playerrolls=1}} {{die=[[ (@{cool}-1) + @{talent_4_val} ]]}} {{check=[[ ( (@{cool}-1)d6cs>7cf<0) + (@{talent_4_val}d6cs>7cf<0) ]] }} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_Talent4Check' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
        </div>
    
    
            <div class="sheet-2colrow">
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><label>Power</label></div>
                    <div class="sheet-col"><input type="number" name="attr_power"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=Power}} {{playerrolls=1}} {{die=[[ (@{power}-1) ]]}} {{check=[[ (@{power}-1)d6cs>7cf<0 ]]}} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_PowerCheck' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
            <div class="sheet-col">
                <div class="sheet-3colrow">
                    <div class="sheet-col"><input type="text" name="attr_talent_5" class="sheet-talent" placeholder="Talent name"></div>
                    <div class="sheet-col"><input type="number" value="3" name="attr_talent_5_val"><button type='roll' class="sheet-d6" value='&{template:buster} {{name=@{talent_5}}} {{playerrolls=1}} {{die=[[ (@{power}-1) + @{talent_5_val} ]]}} {{check=[[ ( (@{power}-1)d6cs>7cf<0) + (@{talent_5_val}d6cs>7cf<0) ]] }} {{ghostdieroll=[[1d6cf<0]]}}' name='roll_Talent5Check' /></div>
                    <div class="sheet-col">&nbsp;</div>
                </div>
            </div>
        </div>
    
    </div>
    <hr class="sheet-rule">
    <div class="sheet-2colrow">
        <div class="sheet-col">
            <div class="sheet-3colrow">
                <div class="sheet-col"><label>Brownie Points</label></div>
                <div class="sheet-col"><input type="number" name="attr_character_bp" min="0" max="60" value=20></div>
                <div class="sheet-col">&nbsp;</div>
            </div>            
        </div> 
        <div class="sheet-col">
            <div class="sheet-3colrow">
                <div class="sheet-col"><label>Starting BP</label></div>
                <div class="sheet-col"><input type="number" name="attr_character_startingbp" min="0" max="60" value=20></div>
                <div class="sheet-col">&nbsp;</div>
            </div>
        </div>
    </div>
    <hr class="sheet-rule">
    <div class="sheet-2colrow">
        <div class="sheet-col">
            <div class="sheet-3colrow">
                <div class="sheet-col"><label>Goal</label></div>
                <div class="sheet-col"><input type="text" name="attr_goal"></div>
                <div class="sheet-col"></div>
            </div>
        </div>
        <div class="sheet-col">
            <div class="sheet-3colrow">
                <div class="sheet-col"><label>Residence</label></div>
                <div class="sheet-col"><input type="text" name="attr_residence"></div>
                <div class="sheet-col"></div>
            </div>
        </div>
    </div>
    <div class="sheet-2colrow">
        <div class="sheet-col">
            <div class="sheet-3colrow">
                <div class="sheet-col"><label>Phone</label></div>
                <div class="sheet-col"><input type="text" name="attr_phone"></div>
                <div class="sheet-col"></div>
            </div>
        </div>
        <div class="sheet-col">
            <div class="sheet-3colrow">
                <div class="sheet-col"><label>Telex</label></div>
                <div class="sheet-col"><input type="text" name="attr_telex"></div>
                <div class="sheet-col"></div>
            </div>
        </div>
    </div>
    <div class="sheet-row"><textarea name="notes"></textarea></div>
</div>

<rolltemplate class="sheet-rolltemplate-buster">
    <table>
        <tr>
            <td>
                <div class="sheet-rolltemplate-content">
                    <h2>{{name}}</h2>
                    {{#playerrolls}}
                        <span class="sheet-rolltemplate-rolltext">Task: <span class="sheet-rolltemplate-die">{{die}}d6</span></span><br>
                        <span class="sheet-rolltemplate-rolltext">Task Total:  <span class="sheet-rolltemplate-result">{{check}}</span></span><br>
                        {{#rollWasCrit() ghostdieroll}}
                            <span class="sheet-rolltemplate-rolltext">Ghost Die:  </span><img src="http://i.imgur.com/wUDEvVz.png">
                        {{/rollWasCrit() ghostdieroll}}
                        {{#^rollWasCrit() ghostdieroll}}
                            <span class="sheet-rolltemplate-rolltext">Ghost Die:  <span class="sheet-rolltemplate-die">{{ghostdieroll}}</span></span>
                        {{/^rollWasCrit() ghostdieroll}}
                    {{/playerrolls}}

                    {{#ghostrolls}}
                        <span class="sheet-rolltemplate-rolltext">Power: <span class="sheet-rolltemplate-die">{{die}}d6</span></span><br>
                        <span class="sheet-rolltemplate-rolltext">Power Total:  <span class="sheet-rolltemplate-result">{{check}}</span></span><br>
                        {{#rollWasCrit() ghostdieroll}}
                            <span class="sheet-rolltemplate-rolltext">Ghost Die:  </span><img src="http://i.imgur.com/wUDEvVz.png">
                        {{/rollWasCrit() ghostdieroll}}
                        {{#^rollWasCrit() ghostdieroll}}
                            <span class="sheet-rolltemplate-rolltext">Ghost Die:  <span class="sheet-rolltemplate-die">{{ghostdieroll}}</span></span>
                        {{/^rollWasCrit() ghostdieroll}}
                    {{/ghostrolls}}

                </div>
            </td>
        </tr>
    </table>
</rolltemplate>